{
    "sourceFile": "routing.go",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 11,
            "patches": [
                {
                    "date": 1719193023015,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1719193302264,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,4 +33,5 @@\n     router.GET(\"/youtube/playlists\", getPlaylists)\r\n     router.GET(\"/youtube/playlist_items\", getPlaylistItems)\r\n     router.GET(\"/youtube/live\", checkLive)\r\n }\r\n+\r\n"
                },
                {
                    "date": 1719196651552,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,23 +1,24 @@\n package main\r\n \r\n import (\r\n     \"github.com/gin-gonic/gin\"\r\n+    \"models\"\r\n )\r\n \r\n-func initializeRoutes(router *gin.Engine) {\r\n+func initializeRoutes(router *gin.Engine, app *App) {\r\n     router.GET(\"/\", func(c *gin.Context) {\r\n         message := \"Welcome to the API\"\r\n \r\n         // Save to monitor log\r\n-        err := saveMonitorLog(MonitorLog{\r\n+        err := app.MonitorAdapter.SaveLog(models.MonitorLog{\r\n             ID:        \"0\",\r\n             Endpoint:  \"/\",\r\n             Usuario:   \"unknown\",\r\n             Respuesta: message,\r\n         })\r\n         if err != nil {\r\n-            saveErrorLog(ErrorLog{\r\n+            app.ErrorAdapter.SaveErrorLog(models.ErrorLog{\r\n                 ID:       \"0\",\r\n                 Endpoint: \"/\",\r\n                 Usuario:  \"unknown\",\r\n                 Error:    err.Error(),\r\n@@ -26,13 +27,9 @@\n \r\n         c.JSON(200, gin.H{\"message\": message})\r\n     })\r\n \r\n-    // YouTube API routes\r\n-    router.GET(\"/youtube/search\", searchYouTube)\r\n-    router.GET(\"/youtube/random\", getRandomVideo)\r\n-    router.GET(\"/youtube/playlists\", getPlaylists)\r\n-    router.GET(\"/youtube/playlist_items\", getPlaylistItems)\r\n-    router.GET(\"/youtube/live\", checkLive)\r\n+    // Monitor API routes\r\n+    router.POST(\"/monitor/log\", func(c *gin.Context) {\r\n+        SaveLogEndpoint(c, app)\r\n+    })\r\n }\r\n-\r\n-\r\n"
                },
                {
                    "date": 1719198731724,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,17 +8,16 @@\n func initializeRoutes(router *gin.Engine, app *App) {\r\n     router.GET(\"/\", func(c *gin.Context) {\r\n         message := \"Welcome to the API\"\r\n \r\n-        // Save to monitor log\r\n         err := app.MonitorAdapter.SaveLog(models.MonitorLog{\r\n             ID:        \"0\",\r\n             Endpoint:  \"/\",\r\n             Usuario:   \"unknown\",\r\n             Respuesta: message,\r\n         })\r\n         if err != nil {\r\n-            app.ErrorAdapter.SaveErrorLog(models.ErrorLog{\r\n+            app.ErrorAdapter.SaveLog(models.ErrorLog{\r\n                 ID:       \"0\",\r\n                 Endpoint: \"/\",\r\n                 Usuario:  \"unknown\",\r\n                 Error:    err.Error(),\r\n@@ -27,9 +26,20 @@\n \r\n         c.JSON(200, gin.H{\"message\": message})\r\n     })\r\n \r\n-    // Monitor API routes\r\n-    router.POST(\"/monitor/log\", func(c *gin.Context) {\r\n-        SaveLogEndpoint(c, app)\r\n+    router.GET(\"/youtube/search\", func(c *gin.Context) {\r\n+        searchYouTube(c, app)\r\n     })\r\n+    router.GET(\"/youtube/random\", func(c *gin.Context) {\r\n+        getRandomVideo(c, app)\r\n+    })\r\n+    router.GET(\"/youtube/playlists\", func(c *gin.Context) {\r\n+        getPlaylists(c, app)\r\n+    })\r\n+    router.GET(\"/youtube/playlist_items\", func(c *gin.Context) {\r\n+        getPlaylistItems(c, app)\r\n+    })\r\n+    router.GET(\"/youtube/live\", func(c *gin.Context) {\r\n+        checkLive(c, app)\r\n+    })\r\n }\r\n"
                },
                {
                    "date": 1719215353419,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,45 +1,35 @@\n package main\r\n \r\n import (\r\n     \"github.com/gin-gonic/gin\"\r\n-    \"models\"\r\n+    \"control-panel\"\r\n )\r\n \r\n-func initializeRoutes(router *gin.Engine, app *App) {\r\n-    router.GET(\"/\", func(c *gin.Context) {\r\n-        message := \"Welcome to the API\"\r\n+func setupRoutes(router *gin.Engine, controlPanelService *controlpanel.ControlPanelService) {\r\n+    router.GET(\"/\", controlPanelService.HandleHome)\r\n \r\n-        err := app.MonitorAdapter.SaveLog(models.MonitorLog{\r\n-            ID:        \"0\",\r\n-            Endpoint:  \"/\",\r\n-            Usuario:   \"unknown\",\r\n-            Respuesta: message,\r\n-        })\r\n-        if err != nil {\r\n-            app.ErrorAdapter.SaveLog(models.ErrorLog{\r\n-                ID:       \"0\",\r\n-                Endpoint: \"/\",\r\n-                Usuario:  \"unknown\",\r\n-                Error:    err.Error(),\r\n-            })\r\n-        }\r\n+    // Authentication routes\r\n+    router.POST(\"/authenticate\", controlPanelService.HandleAuthenticate)\r\n+    router.GET(\"/authorize\", controlPanelService.HandleAuthorize)\r\n \r\n-        c.JSON(200, gin.H{\"message\": message})\r\n-    })\r\n+    // YouTube routes\r\n+    router.GET(\"/youtube/search\", controlPanelService.HandleYouTubeSearching)\r\n+    router.GET(\"/youtube/random\", controlPanelService.HandleYouTubeRandomVideo)\r\n+    router.GET(\"/youtube/playlists\", controlPanelService.HandleYouTubePlaylists)\r\n+    router.GET(\"/youtube/playlist-items\", controlPanelService.HandleYouTubePlaylistItems)\r\n+    router.GET(\"/youtube/live\", controlPanelService.HandleYouTubeLive)\r\n \r\n-    router.GET(\"/youtube/search\", func(c *gin.Context) {\r\n-        searchYouTube(c, app)\r\n-    })\r\n-    router.GET(\"/youtube/random\", func(c *gin.Context) {\r\n-        getRandomVideo(c, app)\r\n-    })\r\n-    router.GET(\"/youtube/playlists\", func(c *gin.Context) {\r\n-        getPlaylists(c, app)\r\n-    })\r\n-    router.GET(\"/youtube/playlist_items\", func(c *gin.Context) {\r\n-        getPlaylistItems(c, app)\r\n-    })\r\n-    router.GET(\"/youtube/live\", func(c *gin.Context) {\r\n-        checkLive(c, app)\r\n-    })\r\n+    // Monitor routes\r\n+    router.POST(\"/internal/monitor/log\", controlPanelService.HandleMonitorLog)\r\n+    router.GET(\"/internal/monitor/logs\", controlPanelService.HandleListMonitorLogs)\r\n+    router.GET(\"/internal/monitor/logs/:filename\", controlPanelService.HandleReadMonitorLog)\r\n+    router.DELETE(\"/internal/monitor/logs/:filename\", controlPanelService.HandleDeleteMonitorLog)\r\n+    router.DELETE(\"/internal/monitor/logs\", controlPanelService.HandleDeleteAllMonitorLogs)\r\n+\r\n+    // Logs routes\r\n+    router.POST(\"/internal/log/error\", controlPanelService.HandleErrorLog)\r\n+    router.GET(\"/internal/logs\", controlPanelService.HandleListLogs)\r\n+    router.GET(\"/internal/logs/:filename\", controlPanelService.HandleReadLog)\r\n+    router.DELETE(\"/internal/logs/:filename\", controlPanelService.HandleDeleteLog)\r\n+    router.DELETE(\"/internal/logs\", controlPanelService.HandleDeleteAllLogs)\r\n }\r\n"
                },
                {
                    "date": 1719215588433,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n package main\r\n \r\n import (\r\n     \"github.com/gin-gonic/gin\"\r\n-    \"control-panel\"\r\n+    controlpanel \"control-panel\"\r\n )\r\n \r\n func setupRoutes(router *gin.Engine, controlPanelService *controlpanel.ControlPanelService) {\r\n     router.GET(\"/\", controlPanelService.HandleHome)\r\n"
                },
                {
                    "date": 1719216747515,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n package main\r\n \r\n import (\r\n     \"github.com/gin-gonic/gin\"\r\n-    controlpanel \"control-panel\"\r\n+    controlpanel \"your_project_name/control-panel\"\r\n )\r\n \r\n func setupRoutes(router *gin.Engine, controlPanelService *controlpanel.ControlPanelService) {\r\n     router.GET(\"/\", controlPanelService.HandleHome)\r\n"
                },
                {
                    "date": 1719216760467,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n package main\r\n \r\n import (\r\n     \"github.com/gin-gonic/gin\"\r\n-    controlpanel \"your_project_name/control-panel\"\r\n+    controlpanel \"/control-panel\"\r\n )\r\n \r\n func setupRoutes(router *gin.Engine, controlPanelService *controlpanel.ControlPanelService) {\r\n     router.GET(\"/\", controlPanelService.HandleHome)\r\n"
                },
                {
                    "date": 1719216773714,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,35 @@\n+package main\r\n+\r\n+import (\r\n+    \"github.com/gin-gonic/gin\"\r\n+    controlpanel \"hexagonal-server/control-panel\"\r\n+)\r\n+\r\n+func setupRoutes(router *gin.Engine, controlPanelService *controlpanel.ControlPanelService) {\r\n+    router.GET(\"/\", controlPanelService.HandleHome)\r\n+\r\n+    // Authentication routes\r\n+    router.POST(\"/authenticate\", controlPanelService.HandleAuthenticate)\r\n+    router.GET(\"/authorize\", controlPanelService.HandleAuthorize)\r\n+\r\n+    // YouTube routes\r\n+    router.GET(\"/youtube/search\", controlPanelService.HandleYouTubeSearching)\r\n+    router.GET(\"/youtube/random\", controlPanelService.HandleYouTubeRandomVideo)\r\n+    router.GET(\"/youtube/playlists\", controlPanelService.HandleYouTubePlaylists)\r\n+    router.GET(\"/youtube/playlist-items\", controlPanelService.HandleYouTubePlaylistItems)\r\n+    router.GET(\"/youtube/live\", controlPanelService.HandleYouTubeLive)\r\n+\r\n+    // Monitor routes\r\n+    router.POST(\"/internal/monitor/log\", controlPanelService.HandleMonitorLog)\r\n+    router.GET(\"/internal/monitor/logs\", controlPanelService.HandleListMonitorLogs)\r\n+    router.GET(\"/internal/monitor/logs/:filename\", controlPanelService.HandleReadMonitorLog)\r\n+    router.DELETE(\"/internal/monitor/logs/:filename\", controlPanelService.HandleDeleteMonitorLog)\r\n+    router.DELETE(\"/internal/monitor/logs\", controlPanelService.HandleDeleteAllMonitorLogs)\r\n+\r\n+    // Logs routes\r\n+    router.POST(\"/internal/log/error\", controlPanelService.HandleErrorLog)\r\n+    router.GET(\"/internal/logs\", controlPanelService.HandleListLogs)\r\n+    router.GET(\"/internal/logs/:filename\", controlPanelService.HandleReadLog)\r\n+    router.DELETE(\"/internal/logs/:filename\", controlPanelService.HandleDeleteLog)\r\n+    router.DELETE(\"/internal/logs\", controlPanelService.HandleDeleteAllLogs)\r\n+}\r\n"
                },
                {
                    "date": 1719217481541,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n package main\r\n \r\n import (\r\n     \"github.com/gin-gonic/gin\"\r\n-    controlpanel \"hexagonal-server/control-panel\"\r\n+    controlpanel \"your_project_name/control-panel\"\r\n )\r\n \r\n func setupRoutes(router *gin.Engine, controlPanelService *controlpanel.ControlPanelService) {\r\n     router.GET(\"/\", controlPanelService.HandleHome)\r\n"
                },
                {
                    "date": 1719217490662,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n package main\r\n \r\n import (\r\n     \"github.com/gin-gonic/gin\"\r\n-    controlpanel \"your_project_name/control-panel\"\r\n+    controlpanel \"/control-panel\"\r\n )\r\n \r\n func setupRoutes(router *gin.Engine, controlPanelService *controlpanel.ControlPanelService) {\r\n     router.GET(\"/\", controlPanelService.HandleHome)\r\n"
                },
                {
                    "date": 1719217495860,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,35 @@\n+package main\r\n+\r\n+import (\r\n+    \"github.com/gin-gonic/gin\"\r\n+    controlpanel \"hexagonal-server/control-panel\"\r\n+)\r\n+\r\n+func setupRoutes(router *gin.Engine, controlPanelService *controlpanel.ControlPanelService) {\r\n+    router.GET(\"/\", controlPanelService.HandleHome)\r\n+\r\n+    // Authentication routes\r\n+    router.POST(\"/authenticate\", controlPanelService.HandleAuthenticate)\r\n+    router.GET(\"/authorize\", controlPanelService.HandleAuthorize)\r\n+\r\n+    // YouTube routes\r\n+    router.GET(\"/youtube/search\", controlPanelService.HandleYouTubeSearching)\r\n+    router.GET(\"/youtube/random\", controlPanelService.HandleYouTubeRandomVideo)\r\n+    router.GET(\"/youtube/playlists\", controlPanelService.HandleYouTubePlaylists)\r\n+    router.GET(\"/youtube/playlist-items\", controlPanelService.HandleYouTubePlaylistItems)\r\n+    router.GET(\"/youtube/live\", controlPanelService.HandleYouTubeLive)\r\n+\r\n+    // Monitor routes\r\n+    router.POST(\"/internal/monitor/log\", controlPanelService.HandleMonitorLog)\r\n+    router.GET(\"/internal/monitor/logs\", controlPanelService.HandleListMonitorLogs)\r\n+    router.GET(\"/internal/monitor/logs/:filename\", controlPanelService.HandleReadMonitorLog)\r\n+    router.DELETE(\"/internal/monitor/logs/:filename\", controlPanelService.HandleDeleteMonitorLog)\r\n+    router.DELETE(\"/internal/monitor/logs\", controlPanelService.HandleDeleteAllMonitorLogs)\r\n+\r\n+    // Logs routes\r\n+    router.POST(\"/internal/log/error\", controlPanelService.HandleErrorLog)\r\n+    router.GET(\"/internal/logs\", controlPanelService.HandleListLogs)\r\n+    router.GET(\"/internal/logs/:filename\", controlPanelService.HandleReadLog)\r\n+    router.DELETE(\"/internal/logs/:filename\", controlPanelService.HandleDeleteLog)\r\n+    router.DELETE(\"/internal/logs\", controlPanelService.HandleDeleteAllLogs)\r\n+}\r\n"
                }
            ],
            "date": 1719193023015,
            "name": "Commit-0",
            "content": "package main\r\n\r\nimport (\r\n    \"github.com/gin-gonic/gin\"\r\n)\r\n\r\nfunc initializeRoutes(router *gin.Engine) {\r\n    router.GET(\"/\", func(c *gin.Context) {\r\n        message := \"Welcome to the API\"\r\n\r\n        // Save to monitor log\r\n        err := saveMonitorLog(MonitorLog{\r\n            ID:        \"0\",\r\n            Endpoint:  \"/\",\r\n            Usuario:   \"unknown\",\r\n            Respuesta: message,\r\n        })\r\n        if err != nil {\r\n            saveErrorLog(ErrorLog{\r\n                ID:       \"0\",\r\n                Endpoint: \"/\",\r\n                Usuario:  \"unknown\",\r\n                Error:    err.Error(),\r\n            })\r\n        }\r\n\r\n        c.JSON(200, gin.H{\"message\": message})\r\n    })\r\n\r\n    // YouTube API routes\r\n    router.GET(\"/youtube/search\", searchYouTube)\r\n    router.GET(\"/youtube/random\", getRandomVideo)\r\n    router.GET(\"/youtube/playlists\", getPlaylists)\r\n    router.GET(\"/youtube/playlist_items\", getPlaylistItems)\r\n    router.GET(\"/youtube/live\", checkLive)\r\n}\r\n\r\n"
        }
    ]
}