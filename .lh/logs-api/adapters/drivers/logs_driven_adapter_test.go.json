{
    "sourceFile": "logs-api/adapters/drivers/logs_driven_adapter_test.go",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1719199354109,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1719199354109,
            "name": "Commit-0",
            "content": "package drivens\r\n\r\nimport (\r\n    \"context\"\r\n    \"testing\"\r\n    \"logs-api/models\"\r\n    \"github.com/stretchr/testify/assert\"\r\n    \"os\"\r\n)\r\n\r\nfunc TestLogsAdapter_SaveErrorLog(t *testing.T) {\r\n    os.Mkdir(\"logs\", os.ModePerm)\r\n    defer os.RemoveAll(\"logs\")\r\n\r\n    la := NewLogsAdapter()\r\n    log := models.ErrorLog{\r\n        ID:       \"1\",\r\n        Endpoint: \"/test\",\r\n        Usuario:  \"testuser\",\r\n        Error:    \"test error\",\r\n    }\r\n\r\n    err := la.SaveErrorLog(context.Background(), log)\r\n    assert.NoError(t, err)\r\n\r\n    _, err = os.Stat(\"logs/log-\" + log.Fecha + \"-\" + log.Hora + \".json\")\r\n    assert.False(t, os.IsNotExist(err))\r\n}\r\n\r\n"
        }
    ]
}